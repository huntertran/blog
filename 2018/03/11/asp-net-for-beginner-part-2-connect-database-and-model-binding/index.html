<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=""><meta name="theme-color" content="#2d4356"><meta name="baidu-site-verification"><title>[ASP.NET for Beginner] - Part 2 - Connect Database and Model Binding | Tuan Tran's Blog</title><link rel="stylesheet" type="text/css" href="/blog/css/style.css"><link rel="Shortcut Icon" type="image/x-icon" href="/blog/favicon.png"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script><meta name="generator" content="Hexo 5.0.0"><link rel="alternate" href="/blog/atom.xml" title="Tuan Tran's Blog" type="application/atom+xml">
</head><link rel="stylesheet" type="text/css" href="/blog/plugins/prettify/doxy.css"><script type="text/javascript" src="/blog/js/ready.js" async></script><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css"><body class="night"><div class="mobile-head" id="mobile-head"><div class="navbar-icon"><span></span><span></span><span></span></div><div class="navbar-title"><a href="/">LITREILY</a></div><div class="navbar-search"><!--= show a circle here--></div></div><div class="h-wrapper" id="menu"><nav class="h-head box"><div class="m-hdimg"><a class="hdimg img" href="/"><img class="nofancybox" src="/img/profile.jpg" width="128" height="128"></a><h1 class="ttl"><a href="/">Tuan Tran's Blog</a></h1></div><p class="m-desc">Share to be shared</p><div class="m-nav"><ul><li><span class="dot">●</span><a href="/blog/archives/">Archives</a></li><li><span class="dot">●</span><a href="/blog/categories/">Categories</a></li><li><span class="dot">●</span><a href="/blog/tags/">Tags</a></li><li><span class="dot">●</span><a href="/blog/about/">About</a></li><li><span class="dot">●</span><a href="/blog/atom.xml">RSS</a></li><li class="m-sch"><form class="form" id="j-formsch" method="get"><input class="txt" type="text" id="local-search-input" name="q" value="Search for" onfocus="if(this.value=='Search for'){this.value='';}" onblur="if(this.value==''){this.value='Search for';}"><input type="text" style="display:none;"></form></li></ul><div id="local-search-result"></div></div></nav></div><div id="back2Top"><a class="fa fa-arrow-up" title="Back to top" href="#"></a></div><div class="box" id="container"><div class="l-wrapper"><div class="l-content box"><div class="l-post l-post-art"><article class="p-art"><div class="p-header box"><h1 class="p-title">[ASP.NET for Beginner] - Part 2 - Connect Database and Model Binding</h1><div class="p-info"><span class="p-date"><i class="fa fa-calendar"></i><a href="/blog/2018/03/11/asp-net-for-beginner-part-2-connect-database-and-model-binding/">2018-03-11</a></span><span class="p-category"><i class="fa fa-folder"></i><a href="/blog/categories/c/">c</a>&nbsp;&bull;&nbsp;<a href="/blog/categories/c/ASP-NET/">ASP.NET</a></span><span class="p-view" id="busuanzi_container_page_pv"><i class="fa fa-eye"></i><span id="busuanzi_value_page_pv"></span></span></div></div><div class="p-content"><p>Ở phần trước bạn đã có một khái niệm cơ bản về mô hình MVC. Dựa vào đó, chúng ta sẽ tiếp tục tìm hiểu thêm về database những vấn đề liên quan nhé.</p>
<a id="more"></a>
<blockquote>
<p>Xem các bài viết trong series</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://coding4food.net/2018/03/04/asp-net-for-beginner-part-1-mvc/">Phần 1: Mô hình MVC</a></li>
<li><a target="_blank" rel="noopener" href="https://coding4food.net/2018/03/11/asp-net-for-beginner-part-2-connect-database-and-model-binding/">Phần 2: Connect Database và Model Binding</a></li>
<li><a target="_blank" rel="noopener" href="https://coding4food.net/2018/03/18/asp-net-for-beginner-part-3-front-end-framework-nao/">Phần 3: Front end framework nào</a></li>
<li><a target="_blank" rel="noopener" href="https://coding4food.net/2018/03/25/aspnet-for-beginner-part-4-crud-va-data-validation/">Phần 4: CRUD và Data Validation</a></li>
</ul>
</blockquote>
<ul>
<li><p><a href="#1-l%E1%BB%B1a-ch%E1%BB%8Dn-database">1. Lựa chọn database</a></p>
<ul>
<li><a href="#11-sql-server">1.1. SQL Server</a></li>
<li><a href="#12-the-others">1.2. The others</a></li>
</ul>
</li>
<li><p><a href="#2-entity-framework">2. Entity Framework</a></p>
</li>
<li><p><a href="#3-t%E1%BA%A1o-model-v%C3%A0-database">3. Tạo Model và Database</a></p>
<ul>
<li><a href="#31-t%E1%BA%A1o-model-phone">3.1. Tạo model Phone</a></li>
<li><a href="#32-t%E1%BA%A1o-database-context">3.2. Tạo Database Context</a></li>
<li><a href="#33-c%C3%A0i-%C4%91%E1%BA%B7t-connection-string">3.3. Cài đặt Connection String</a></li>
<li><a href="#34-c%C3%A0i-%C4%91%E1%BA%B7t-k%E1%BA%BFt-n%E1%BB%91i">3.4. Cài đặt kết nối</a></li>
<li><a href="#35-t%E1%BA%A1o-migration-%C4%91%E1%BA%A7u-ti%C3%AAn">3.5. Tạo Migration đầu tiên</a></li>
</ul>
</li>
<li><p><a href="#4-model-binding">4. Model Binding</a></p>
<ul>
<li><a href="#41-t%E1%BA%A1o-controller">4.1. Tạo Controller</a></li>
<li><a href="#42-c%C3%A1c-nuget-c%E1%BA%A7n-thi%E1%BA%BFt">4.2. Các nuget cần thiết</a></li>
<li><a href="#43-scaffolding">4.3. Scaffolding</a></li>
</ul>
</li>
<li><p><a href="#5-model-binding">5. Model Binding</a></p>
</li>
</ul>
<p>Có thể hiểu database là trái tim của ứng dụng, còn asp.net là bộ não. Thiết kế một database cho đúng chuẩn thì đòi hỏi kha khá thời gian học + luyện tập thì nó mới lên trình được.</p>
<p>Một cách khác rất hay là bắt tay vào làm một project thực tế. Nếu làm theo phần trước, chắc bạn cũng đã có 1 sample project với tên mvcbasic nhỉ.</p>
<p>Nhìn chung, bạn sẽ có 1 project giống như sau: <a target="_blank" rel="noopener" href="https://github.com/huntertran/mvcbasic/releases/tag/0.1">MVC Basic 0.1 on Github</a></p>
<h1 id="1-Lua-chon-database"><a href="#1-Lua-chon-database" class="headerlink" title="1. Lựa chọn database"></a>1. Lựa chọn database</h1><p>Có hơi bị nhiều hệ quản trị cơ sở dữ liệu đang đấu đá nhau trên thị trường. Ở đây mình sẽ nói sơ qua 1 số loại phổ biến</p>
<h2 id="1-1-SQL-Server"><a href="#1-1-SQL-Server" class="headerlink" title="1.1. SQL Server"></a>1.1. SQL Server</h2><p>Cây nhà là vườn, miễn phí cho người dùng cá nhân, hiệu suất cao, mạnh mẽ, là hệ cơ sở dữ liệu có quan hệ. Sql Server đã chứng minh cho mọi dev thấy tính ổn định của nó.</p>
<h2 id="1-2-The-others"><a href="#1-2-The-others" class="headerlink" title="1.2. The others"></a>1.2. The others</h2><p>Nhìn chung, Microsoft có hỗ trợ kha khá các hệ cơ sở dữ liệu khác như MySQL, PostgreSQL, SQLite, nhưng nếu đã lựa chọn các hệ này, thì bạn sẽ phải tự mày mò kha khá các vấn đề mà đa phần đã được giải quyết khi dùng SQL Server</p>
<h1 id="2-Entity-Framework"><a href="#2-Entity-Framework" class="headerlink" title="2. Entity Framework"></a>2. Entity Framework</h1><p>ASP.NET có một điểm mạnh là Entity Framework (EF). Ở phiên bản core thì nó có thêm EF Core. EF hiểu nôm na là một bộ công cụ cho phép bạn kết nối tới database, truy vấn, thêm xóa sửa vân vân mà không cần phải có kiến thức về cách viết SQL.</p>
<p>Có lợi thì cũng phải có hại, EF theo đánh giá của nhiều người thì nó khá….chậm. Điều này đã và đang được cải thiện rất nhiều ở phiên bản mới đi kèm với ASP.NET Core là Entity Framework Core.</p>
<p>Bạn cần cài đặt</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.microsoft.com/en-us/sql-server/sql-server-editions-express">SQL Server Express</a></li>
<li><a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/sql/ssms/download-sql-server-management-studio-ssms">SQL Server Management Studio</a> (optional)</li>
</ul>
<p>Cài nuget package</p>
<p>Mở project mvcbasic bằng vscode</p>
<p>Lần lượt gõ các lệnh sau trong terminal</p>
<p>[code lang=shell] dotnet add package Microsoft.EntityFrameworkCore.SqlServer dotnet add package Microsoft.VisualStudio.Web.CodeGeneration.Design [/code]</p>
<p>Sau đó, mở file mvcbasic.csproj và thêm dòng sau</p>
<p>[code lang=xml] <ItemGroup> <DotNetCliToolReference Include="Microsoft.EntityFrameworkCore.Tools.DotNet" Version="2.0.0" /> </ItemGroup> [/code]</p>
<p>tiếp tục gõ trong terminal</p>
<p>[code lang=text] dotnet restore [/code]</p>
<h1 id="3-Tao-Model-va-Database"><a href="#3-Tao-Model-va-Database" class="headerlink" title="3. Tạo Model và Database"></a>3. Tạo Model và Database</h1><p>Có 2 cách để bắt đầu làm việc với database trong asp.net core là Code first và Database first.</p>
<p>Ngắn gọn thì Code first cho phép bạn viết code trước (tạo các model class), rồi các model bạn tạo sẽ được cập nhật lên database thông qua các <code>migration</code>. Database first thì là cách truyền thống từ xưa tới nay: Tạo database trước, và code của bạn có nghĩa vụ ‘connect’ tới database đó.</p>
<p>Bạn có thể tham khảo thêm ở đây: <a target="_blank" rel="noopener" href="https://coding4food.net/2017/01/06/asp-net-mvc-code-first-vs-database-first/">Code first vs Database first</a></p>
<h2 id="3-1-Tao-model-Phone"><a href="#3-1-Tao-model-Phone" class="headerlink" title="3.1. Tạo model Phone"></a>3.1. Tạo model Phone</h2><p>chuột phải vào folder Models &gt; new file &gt; Phone.cs</p>
<p>[code lang=csharp] namespace mvcbasic.Models { public class Phone { public int Id { get; set; } public string Name { get; set; } } } [/code]</p>
<h2 id="3-2-Tao-Database-Context"><a href="#3-2-Tao-Database-Context" class="headerlink" title="3.2. Tạo Database Context"></a>3.2. Tạo Database Context</h2><p>Database Context có thể hiểu như một công cụ cho phép ứng dụng của bạn kết nối tới Database và thực hiện các tác vụ thêm xóa sửa.</p>
<p>Tạo 1 folder mới ở thư mục gốc với tên ‘Data’</p>
<p>Chuột phải vào folder Data &gt; new file &gt; MvcBasicDbContext.cs</p>
<p>[code lang=csharp] namespace mvcbasic.Data { using Models; using Microsoft.EntityFrameworkCore;</p>
<p>public class MvcBasicDbContext : DbContext { public MvcBasicDbContext(DbContextOptions<MvcBasicDbContext> options) : base(options) { }</p>
<p>public DbSet<Phone> Phones { get; set; } } } [/code]</p>
<h2 id="3-3-Cai-dat-Connection-String"><a href="#3-3-Cai-dat-Connection-String" class="headerlink" title="3.3. Cài đặt Connection String"></a>3.3. Cài đặt Connection String</h2><p>Để kết nối tới database, thì Entity Framework sẽ cần có các thông tin như username, password, tên database, server đang host cái database này. Tất cả thông số đó đều gộp chung lại thành 1 đoạn string, và giang hồ gọi nó là <code>connection string</code></p>
<p>Mở file appsettings.json và thêm vào đoạn json sau</p>
<p>[code lang=json] “ConnectionStrings” : { “PhoneDbConnectionString”: “Server=(localdb)\\mssqllocaldb;Database=PhoneDb;Trusted_Connection=True;” } [/code]</p>
<blockquote>
<p>Đoạn connection string trên có ý nghĩa như sau Server: LocalDb (là một dạng database local có trên các phiên bản mới của SQL Server) Database: PhoneDb Connection tới database dùng Windows Authentication</p>
</blockquote>
<p>Bạn có thể sẽ phải config lại đoạn connection string này cho đúng với môi trường làm việc của bạn</p>
<h2 id="3-4-Cai-dat-ket-noi"><a href="#3-4-Cai-dat-ket-noi" class="headerlink" title="3.4. Cài đặt kết nối"></a>3.4. Cài đặt kết nối</h2><p>Mở file Startup.cs, tìm method <code>ConfigureServices</code> và thêm vào dòng sau</p>
<p>[code lang=csharp] services.AddDbContext<MvcBasicDbContext>(options =&gt; options.UseSqlServer(Configuration.GetConnectionString(“PhoneDbConnectionString”))); [/code]</p>
<p>và nhớ add thêm 2 dòng using</p>
<p>[code lang=csharp] using Microsoft.EntityFrameworkCore; using mvcbasic.Data; [/code]</p>
<h2 id="3-5-Tao-Migration-dau-tien"><a href="#3-5-Tao-Migration-dau-tien" class="headerlink" title="3.5. Tạo Migration đầu tiên"></a>3.5. Tạo Migration đầu tiên</h2><p>Sau khi tất cả các thao tác chuẩn bị đã hoàn tất, đã tới lúc bạn tạo migration đầu tiên của mình</p>
<p>Trong terminal, gõ</p>
<p>[code lang=shell] dotnet ef migrations add InitialCreate [/code]</p>
<p>VSCode sẽ tự động tạo ra một thư mục tên Migrations, và thêm cơ số file vào đấy</p>
<p><a target="_blank" rel="noopener" href="https://farm5.staticflickr.com/4784/40748059781_d2b5740095_o.png">new files</a></p>
<p>Tiếp tục, gõ</p>
<p>[code lang=shell] dotnet ef database update [/code]</p>
<p>thì những migration này sẽ được thực thi, và database sẽ được tạo ra</p>
<p><img src="https://farm5.staticflickr.com/4774/38937566770_e203e7c169_o.png" alt="database created"></p>
<blockquote>
<p>Để kiểm tra, bạn có thể dùng Microsoft SQL Server Management Studio với các thông số sau</p>
<ul>
<li><strong>Server Name</strong>: (LocalDb)\MSSQLLocalDB</li>
<li><strong>Authentication</strong>: Windows Authentication</li>
</ul>
<p>MSSQLLocalDB là tên instance của bạn, có thể khác nếu khi cài SQL Server bạn ko chọn như default</p>
</blockquote>
<h1 id="4-Model-Binding"><a href="#4-Model-Binding" class="headerlink" title="4. Model Binding"></a>4. Model Binding</h1><p>Sau khi hoàn tất các bước trên, cơ bản web app của bạn đã có thể kết nối tới database. Nhưng để thực hiện các hành động thêm xóa sửa, thì bạn cần phải có Controller nữa</p>
<blockquote>
<p>Bạn có thể tải project hoàn tất ở bước 3 tại <a target="_blank" rel="noopener" href="https://github.com/huntertran/mvcbasic/releases/tag/0.2">đây</a></p>
</blockquote>
<h2 id="4-1-Tao-Controller"><a href="#4-1-Tao-Controller" class="headerlink" title="4.1. Tạo Controller"></a>4.1. Tạo Controller</h2><p>VSCode cũng hỗ trợ bạn trong việc tự động tạo ra controller mong muốn mà ko phải code nhiều (thực ra ko phải là VSCode hỗ trợ, mà một công cụ gọi là .NET Cli tools và vài nuget package cho phép bạn làm chuyện này, nhưng trước mắt cứ hiểu vậy đã)</p>
<p>Tên Controller, theo asp.net convention như mình đã nói ở phần 1, sẽ có dạng <code>[Tên]Controller</code>, trong trường hợp này sẽ là <code>PhoneController</code>.</p>
<blockquote>
<p>Một quy tắc đặt tên phổ biến là Tên bảng -&gt; số nhiều: Phones Tên model -&gt; số ít: Phone Tên controller: PhoneController Tên view: Create, Delete, Details, Edit và Index</p>
</blockquote>
<h2 id="4-2-Cac-nuget-can-thiet"><a href="#4-2-Cac-nuget-can-thiet" class="headerlink" title="4.2. Các nuget cần thiết"></a>4.2. Các nuget cần thiết</h2><p>Để có thể tạo controller, bạn sẽ cần thêm một số tool nữa</p>
<p>Mở mvcbasic.csproj và thêm các dòng sau</p>
<p>[code lang=xml] … <PackageReference Include="Microsoft.VisualStudio.Web.CodeGeneration.Design" Version="2.0.2" /> … <DotNetCliToolReference Include="Microsoft.VisualStudio.Web.CodeGeneration.Tools" Version="2.0.2" /> … [/code]</p>
<p>Tổng quan, file csproj sẽ giống như sau</p>
<p>[code lang=xml] <Project Sdk="Microsoft.NET.Sdk.Web"></p>
<p><PropertyGroup> <TargetFramework>netcoreapp2.0</TargetFramework> </PropertyGroup></p>
<p><ItemGroup> <PackageReference Include="Microsoft.AspNetCore.All" Version="2.0.5" /> <PackageReference Include="Microsoft.EntityFrameworkCore.SqlServer" Version="2.0.1" /> <PackageReference Include="Microsoft.EntityFrameworkCore.SqlServer.Design" Version="1.1.5" /> <PackageReference Include="Microsoft.VisualStudio.Web.CodeGeneration.Design" Version="2.0.2" /> </ItemGroup></p>
<p><ItemGroup> <DotNetCliToolReference Include="Microsoft.EntityFrameworkCore.Tools.DotNet" Version="2.0.1" /> <DotNetCliToolReference Include="Microsoft.VisualStudio.Web.CodeGeneration.Tools" Version="2.0.2" /> </ItemGroup></p>
<p></Project> [/code]</p>
<h2 id="4-3-Scaffolding"><a href="#4-3-Scaffolding" class="headerlink" title="4.3. Scaffolding"></a>4.3. Scaffolding</h2><p>Mở terminal, và gõ lệnh sau</p>
<p>[code lang=shell] dotnet restore dotnet build</p>
<p>dotnet aspnet-codegenerator controller -name PhoneController -m Phone -dc MvcBasicDbContext –relativeFolderPath Controllers –useDefaultLayout –referenceScriptLibraries [/code]</p>
<p>Nhìn vào câu lệnh trên, chắc bạn cũng sẽ đoán được nó làm gì: “Này dotnet, tạo cho tao 1 controller mới tên là <code>PhoneController</code>, dùng model là <code>Phone</code>, Data Context là <code>MvcBasicDbContext</code>, trong folder tên là <code>Controllers</code>, dùng default layout, à có scripts đi kèm nhá”</p>
<p>2 câu lệnh đầu tiên giúp bạn thực sự cài nuget, và build project một phát để đảm bảo ko có lỗi phát sinh, và clear các file tạm ko còn cần thiết</p>
<p><img src="https://farm5.staticflickr.com/4782/40705936652_1e3d6b551d_o.png" alt="create new controller"></p>
<p>gõ tiếp <code>dotnet run</code> để chạy thử app</p>
<p><img src="https://farm5.staticflickr.com/4779/25877724937_7bfed1c8d7_o.png" alt="app with phone controller"></p>
<p>bạn có thể vọc vạch các kiểu với các link mà asp.net core tạo sẵn cho bạn, create new, edit, delete, details gì đấy thì tùy</p>
<h1 id="5-Model-Binding"><a href="#5-Model-Binding" class="headerlink" title="5. Model Binding"></a>5. Model Binding</h1><p>Mở file PhoneController ra, bạn sẽ thấy có sẵn code trong đấy rồi, tuy ko đẹp lắm, nhưng nhìn chung là nó chạy tốt</p>
<p>Hãy nhìn vào method Details</p>
<p>[code lang=csharp] // GET: Phone/Details/5 public async Task<IActionResult> Details(int? id) { if (id == null) { return NotFound(); }</p>
<p>var phone = await _context.Phones .SingleOrDefaultAsync(m =&gt; m.Id == id); if (phone == null) { return NotFound(); }</p>
<p>return View(phone); } [/code]</p>
<p>Method này nhận một tham số là nullable int có tên là id, khi bạn gọi tới url Phone/Details/5 (như dòng comment ở bên trên), thì số 5 đó sẽ được hiểu là Id. Đó chính là model binding</p>
<p>Tiếp tục, nhìn vào class Create có attribute <code>[HttpPost]</code></p>
<p>[code lang=csharp] // POST: Phone/Create // To protect from overposting attacks, please enable the specific properties you want to bind to, for // more details see <a target="_blank" rel="noopener" href="http://go.microsoft.com/fwlink/?LinkId=317598">http://go.microsoft.com/fwlink/?LinkId=317598</a>. [HttpPost] [ValidateAntiForgeryToken] public async Task<IActionResult> Create([Bind(“Id,Name”)] Phone phone) { if (ModelState.IsValid) { _context.Add(phone); await _context.SaveChangesAsync(); return RedirectToAction(nameof(Index)); } return View(phone); } [/code]</p>
<p>Model binding còn vi diệu ở chỗ, nếu bạn dùng hẳn 1 class làm parameter, thì ASP.NET sẽ tự hiểu các property trong class đó, và gắn đúng từng giá trị một</p>
<p>Bạn có thể xóa <code>[Bind(&quot;Id,Name&quot;)]</code> đi và code vẫn chạy tốt, nhưng như Microsoft đã cảnh báo, để bảo vệ bạn khỏi chuyện orver posting attack, thì bạn phải chỉ định luôn là property nào sẽ được gắn</p>
<p>Method này tương ứng với Views &gt; Phone &gt; Create.cshtml</p>
<p>[code lang=html] <!--dòng 17--> <input asp-for="Name" class="form-control" /> [/code]</p>
<p>từ khóa <code>asp-for</code> thông báo rằng Name là property sẽ được truyền lên server, và server sẽ “gắn” nó vào model phone của method Create</p>
<blockquote>
<p>Tại sao lại ko có Id? Vì Id mặc định được coi như Key của bảng Phone, và key thì ko cần phải có khi tạo mới, vì database sẽ tự sinh ra nó</p>
</blockquote>
<p>Tiếp tục, mở Views &gt; Phone &gt; Index.cshtml bạn sẽ thấy đoạn code sau</p>
<p>[code lang=csharp] @foreach (var item in Model) { <tr> <td> @Html.DisplayFor(modelItem =&gt; item.Name) </td> <td> <a asp-action="Edit" asp-route-id="@item.Id">Edit</a> | <a asp-action="Details" asp-route-id="@item.Id">Details</a> | <a asp-action="Delete" asp-route-id="@item.Id">Delete</a> </td> </tr> } [/code]</p>
<blockquote>
<p>ô lạ chưa, có foreach trong html Ngôn ngữ này gọi là Razor, cho phép bạn thực thi một số đoạn code C# trong html, giúp cho việc render ra các tag html như mong muốn.</p>
</blockquote>
<p>Razor thông minh tới mức nó tự hiểu chỗ nào là code html, và chỗ nào là code Razor, với các nguyên tắc vô cùng đơn giản</p>
<ul>
<li>Mỗi đoạn code razor đều bắt đầu bằng dấu <code>@</code></li>
<li>Ngay sau dấu <code>&#123;</code> hoặc <code>(</code> thì ko cần <code>@</code></li>
</ul>
<p>Database và Model binding còn nhiều điều để nói. Tạm thời ta cứ hiểu vậy đã</p>
<p>Đón đọc phần 3 bạn nhé :)</p>
</div><div class="p-copyright"><blockquote><div class="p-copyright-author"><span class="p-copyright-key">Author：</span><span class="p-copytight-value"><a href="mailto:litreily@163.com">Tuan Tran</a></span></div><div class="p-copyright-link"><span class="p-copyright-key">Link to this article：</span><span class="p-copytight-value"><a href="/blog/2018/03/11/asp-net-for-beginner-part-2-connect-database-and-model-binding/">https://huntertran.github.io/blog/2018/03/11/asp-net-for-beginner-part-2-connect-database-and-model-binding/</a></span></div><div class="p-copyright-note"><span class="p-copyright-key">Copyright：</span><span class="p-copytight-value">All rights reserved with<a rel="nofollow" target="_blank" href="https://creativecommons.org/licenses/by-nc/4.0/"> CC BY-NC 4.0 </a>agreement. Include the source <a href="https://huntertran.github.io/blog">Tuan Tran's blog</a>！</span></div></blockquote></div></article><div class="p-info box"><span class="p-tags"><i class="fa fa-tags"></i><a href="/blog/tags/core/">core</a><a href="/blog/tags/database/">database</a><a href="/blog/tags/entity-framework/">entity framework</a><a href="/blog/tags/model/">model</a></span></div><aside id="toc"><div class="toc-title">Table of Contents</div><nav><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-Lua-chon-database"><span class="toc-number">1.</span> <span class="toc-text">1. Lựa chọn database</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-SQL-Server"><span class="toc-number">1.1.</span> <span class="toc-text">1.1. SQL Server</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-The-others"><span class="toc-number">1.2.</span> <span class="toc-text">1.2. The others</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-Entity-Framework"><span class="toc-number">2.</span> <span class="toc-text">2. Entity Framework</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-Tao-Model-va-Database"><span class="toc-number">3.</span> <span class="toc-text">3. Tạo Model và Database</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-Tao-model-Phone"><span class="toc-number">3.1.</span> <span class="toc-text">3.1. Tạo model Phone</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-Tao-Database-Context"><span class="toc-number">3.2.</span> <span class="toc-text">3.2. Tạo Database Context</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-3-Cai-dat-Connection-String"><span class="toc-number">3.3.</span> <span class="toc-text">3.3. Cài đặt Connection String</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-4-Cai-dat-ket-noi"><span class="toc-number">3.4.</span> <span class="toc-text">3.4. Cài đặt kết nối</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-5-Tao-Migration-dau-tien"><span class="toc-number">3.5.</span> <span class="toc-text">3.5. Tạo Migration đầu tiên</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-Model-Binding"><span class="toc-number">4.</span> <span class="toc-text">4. Model Binding</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#4-1-Tao-Controller"><span class="toc-number">4.1.</span> <span class="toc-text">4.1. Tạo Controller</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-2-Cac-nuget-can-thiet"><span class="toc-number">4.2.</span> <span class="toc-text">4.2. Các nuget cần thiết</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-3-Scaffolding"><span class="toc-number">4.3.</span> <span class="toc-text">4.3. Scaffolding</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#5-Model-Binding"><span class="toc-number">5.</span> <span class="toc-text">5. Model Binding</span></a></li></ol></nav></aside></div><section class="p-ext"><div class="l-pager l-pager-dtl box"><a class="prev" href="/blog/2018/03/18/asp-net-for-beginner-part-3-front-end-framework-nao/">&lt; [ASP.NET for Beginner] - Part 3 - Front end framework nào?</a><a class="next" href="/blog/2018/03/04/asp-net-for-beginner-part-1-mvc/">[ASP.NET for Beginner] - Part 1 - MVC &gt;</a></div><div id="valine-comment"><style type="text/css">.night .v[data-class=v] a { color: #0F9FB4 !important; }
.night .v[data-class=v] a:hover { color: #216C73 !important; }
.night .v[data-class=v] li { list-style: inherit; }
.night .v[data-class=v] .vwrap { border: 1px solid #223441; border-radius: 0; }
.night .v[data-class=v] .vwrap:hover { box-shadow: 0 0 6px 1px #223441; }
.night .v[data-class=v] .vbtn { border-radius: 0; background: none; }
.night .v[data-class=v] .vlist .vcard .vh { border-bottom-color: #293D4E; }
.night .v[data-class=v] .vwrap .vheader .vinput { border-bottom-color: #223441; }
.night .v[data-class=v] .vwrap .vheader .vinput:focus { border-bottom-color: #339EB4; }
.night .v[data-class=v] code, .night .v[data-class=v] pre,.night .v[data-class=v] .vlist .vcard .vhead .vsys { background: #203240 !important; }
.night .v[data-class=v] code, .night .v[data-class=v] pre { color: #F0F0F0; font-size: 95%; }
.v[data-class=v] .vcards .vcard .vh {border-bottom-color: #223441; }
.night .v[data-class=v] .vcards .vcard .vcontent.expand:before {background: linear-gradient(180deg,rgba(38,57,73,.4),rgba(38,57,73,.9));}
.night .v[data-class=v] .vcards .vcard .vcontent.expand:after {background: rgba(38,57,73,.9)}
</style><div id="vcomment"></div><script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script><script>var notify = 'false' == true ? true : false;
var verify = 'false' == true ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;
window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'',
  appKey:'',
  lang: 'en',
  placeholder:'ヾﾉ≧∀≦)o Come on, say something...',
  avatar:'identicon',
  guest_info:guest_info,
  pageSize:'10'
})</script></div></section><footer><p>Copyright © 2016 - 2020 <a href="/blog/." rel="nofollow">Tuan Tran's Blog</a> | <strong><a rel="nofollow" target="_blank" href="https://creativecommons.org/licenses/by-nc/4.0/">CC BY-NC 4.0</a></strong><br><span id="busuanzi_container_site_uv"><i class="fa fa-user"></i><span id="busuanzi_value_site_uv"></span></span> <span id="busuanzi_container_site_pv"><i class="fa fa-eye"></i><span id="busuanzi_value_site_pv"></span></span> | Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a>Theme with<a rel="nofollow" target="_blank" href="https://github.com/litreily/snark-hexo"> snark.</a></p></footer></div></div></div><script type="text/javascript" src="/blog/plugins/prettify/prettify.js"></script><script type="text/javascript" src="/blog/js/search.js"></script><script type="text/javascript" src="/blog/js/top.js"></script><script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
    search_path = 'search.xml';
}
var path = '/blog/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script><script type="text/javascript" src="/blog/js/fancybox.js?v=0.0.1" async></script></body></html>