<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 7.1.1">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/theme/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/theme/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/theme/favicon-16x16.png">
  <link rel="mask-icon" href="/images/theme/avatar.png" color="#222">
  <meta name="msvalidate.01" content="1CB8DB019C58E7852A318AAB16B1ABE5">
  <meta name="yandex-verification" content="92d8d8e521a054f7">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.0/css/all.min.css" integrity="sha256-yIDrPSXHZdOZhAqiBP7CKzIwMQmRCJ8UeB8Jo17YC4o=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"huntertran.github.io","root":"/","images":"/images","scheme":"Gemini","darkmode":true,"version":"8.19.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":"default"},"fold":{"enable":false,"height":500},"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":false,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":true,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="·ªû ph·∫ßn tr∆∞·ªõc b·∫°n ƒë√£ c√≥ m·ªôt kh√°i ni·ªám c∆° b·∫£n v·ªÅ m√¥ h√¨nh MVC. D·ª±a v√†o ƒë√≥, ch√∫ng ta s·∫Ω ti·∫øp t·ª•c t√¨m hi·ªÉu th√™m v·ªÅ database nh·ªØng v·∫•n ƒë·ªÅ li√™n quan nh√©.">
<meta property="og:type" content="article">
<meta property="og:title" content="[ASP.NET for Beginner] - Part 2 - Connect Database and Model Binding">
<meta property="og:url" content="https://huntertran.github.io/blog/2018/03/11/asp-net-for-beginner-part-2-connect-database-and-model-binding/">
<meta property="og:site_name" content="Hunter Tran&#39;s Blog">
<meta property="og:description" content="·ªû ph·∫ßn tr∆∞·ªõc b·∫°n ƒë√£ c√≥ m·ªôt kh√°i ni·ªám c∆° b·∫£n v·ªÅ m√¥ h√¨nh MVC. D·ª±a v√†o ƒë√≥, ch√∫ng ta s·∫Ω ti·∫øp t·ª•c t√¨m hi·ªÉu th√™m v·ªÅ database nh·ªØng v·∫•n ƒë·ªÅ li√™n quan nh√©.">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://huntertran.github.io/images/flickr/4774/38937566770_e203e7c169_o.png">
<meta property="og:image" content="https://huntertran.github.io/images/flickr/4782/40705936652_1e3d6b551d_o.png">
<meta property="og:image" content="https://huntertran.github.io/images/flickr/4779/25877724937_7bfed1c8d7_o.png">
<meta property="article:published_time" content="2018-03-11T16:11:47.000Z">
<meta property="article:modified_time" content="2025-01-02T03:40:42.867Z">
<meta property="article:author" content="Hunter Tran">
<meta property="article:tag" content="core">
<meta property="article:tag" content="database">
<meta property="article:tag" content="entity framework">
<meta property="article:tag" content="model">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://huntertran.github.io/images/flickr/4774/38937566770_e203e7c169_o.png">


<link rel="canonical" href="https://huntertran.github.io/blog/2018/03/11/asp-net-for-beginner-part-2-connect-database-and-model-binding/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://huntertran.github.io/blog/2018/03/11/asp-net-for-beginner-part-2-connect-database-and-model-binding/","path":"2018/03/11/asp-net-for-beginner-part-2-connect-database-and-model-binding/","title":"[ASP.NET for Beginner] - Part 2 - Connect Database and Model Binding"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>[ASP.NET for Beginner] - Part 2 - Connect Database and Model Binding | Hunter Tran's Blog</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-174401878-1"></script>
  <script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"UA-174401878-1","only_pageview":false,"measure_protocol_api_secret":null}</script>
  <script src="/js/third-party/analytics/google-analytics.js"></script>








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/atom.xml" title="Hunter Tran's Blog" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Hunter Tran's Blog</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Share to be shared</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li><li class="menu-item menu-item-power-bi-reports"><a href="/power-bi-reports/" rel="section"><i class="fa fa-chart-simple fa-fw"></i>Power BI Reports</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#1-Lua-chon-database"><span class="nav-text">1. L·ª±a ch·ªçn database</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-1-SQL-Server"><span class="nav-text">1.1. SQL Server</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-2-The-others"><span class="nav-text">1.2. The others</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-Entity-Framework"><span class="nav-text">2. Entity Framework</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-Tao-Model-va-Database"><span class="nav-text">3. T·∫°o Model v√† Database</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#3-1-Tao-model-Phone"><span class="nav-text">3.1. T·∫°o model Phone</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-2-Tao-Database-Context"><span class="nav-text">3.2. T·∫°o Database Context</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-3-Cai-dat-Connection-String"><span class="nav-text">3.3. C√†i ƒë·∫∑t Connection String</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-4-Cai-dat-ket-noi"><span class="nav-text">3.4. C√†i ƒë·∫∑t k·∫øt n·ªëi</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-5-Tao-Migration-dau-tien"><span class="nav-text">3.5. T·∫°o Migration ƒë·∫ßu ti√™n</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#4-Model-Binding"><span class="nav-text">4. Model Binding</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#4-1-Tao-Controller"><span class="nav-text">4.1. T·∫°o Controller</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-2-Cac-nuget-can-thiet"><span class="nav-text">4.2. C√°c nuget c·∫ßn thi·∫øt</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-3-Scaffolding"><span class="nav-text">4.3. Scaffolding</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#5-Model-Binding"><span class="nav-text">5. Model Binding</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Hunter Tran"
      src="/images/theme/avatar.png">
  <p class="site-author-name" itemprop="name">Hunter Tran</p>
  <div class="site-description" itemprop="description">Programming, technologies, computer tips and life thoughts</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">127</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">28</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">230</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/huntertran" title="GitHub ‚Üí https:&#x2F;&#x2F;github.com&#x2F;huntertran" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/huntertrantuan" title="Twitter ‚Üí https:&#x2F;&#x2F;twitter.com&#x2F;huntertrantuan" rel="noopener me" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://stackoverflow.com/users/4506315/tuan-tran" title="StackOverflow ‚Üí https:&#x2F;&#x2F;stackoverflow.com&#x2F;users&#x2F;4506315&#x2F;tuan-tran" rel="noopener me" target="_blank"><i class="fab fa-stack-overflow fa-fw"></i>StackOverflow</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://huntertran.github.io/blog/2018/03/11/asp-net-for-beginner-part-2-connect-database-and-model-binding/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/theme/avatar.png">
      <meta itemprop="name" content="Hunter Tran">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hunter Tran's Blog">
      <meta itemprop="description" content="Programming, technologies, computer tips and life thoughts">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="[ASP.NET for Beginner] - Part 2 - Connect Database and Model Binding | Hunter Tran's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          [ASP.NET for Beginner] - Part 2 - Connect Database and Model Binding<a href="https://github.com/huntertran/blog/edit/master/source/_posts/20180311-asp-net-for-beginner-part-2-connect-database-and-model-binding.md" class="post-edit-link" title="Edit this post" rel="noopener" target="_blank"><i class="fa fa-pen-nib"></i></a>
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2018-03-11 12:11:47" itemprop="dateCreated datePublished" datetime="2018-03-11T12:11:47-04:00">2018-03-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2025-01-01 22:40:42" itemprop="dateModified" datetime="2025-01-01T22:40:42-05:00">2025-01-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/CSharp/" itemprop="url" rel="index"><span itemprop="name">CSharp</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/CSharp/ASP-NET/" itemprop="url" rel="index"><span itemprop="name">ASP.NET</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2018/03/11/asp-net-for-beginner-part-2-connect-database-and-model-binding/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/03/11/asp-net-for-beginner-part-2-connect-database-and-model-binding/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><p>·ªû ph·∫ßn tr∆∞·ªõc b·∫°n ƒë√£ c√≥ m·ªôt kh√°i ni·ªám c∆° b·∫£n v·ªÅ m√¥ h√¨nh MVC. D·ª±a v√†o ƒë√≥, ch√∫ng ta s·∫Ω ti·∫øp t·ª•c t√¨m hi·ªÉu th√™m v·ªÅ database nh·ªØng v·∫•n ƒë·ªÅ li√™n quan nh√©.</p>
<span id="more"></span>

<blockquote>
<p>Xem c√°c b√†i vi·∫øt trong series</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://huntertran.ca/2018/03/04/asp-net-for-beginner-part-1-mvc/">Ph·∫ßn 1: M√¥ h√¨nh MVC</a></li>
<li><a target="_blank" rel="noopener" href="https://huntertran.ca/2018/03/11/asp-net-for-beginner-part-2-connect-database-and-model-binding/">Ph·∫ßn 2: Connect Database v√† Model Binding</a></li>
<li><a target="_blank" rel="noopener" href="https://huntertran.ca/2018/03/18/asp-net-for-beginner-part-3-front-end-framework-nao/">Ph·∫ßn 3: Front end framework n√†o</a></li>
<li><a target="_blank" rel="noopener" href="https://huntertran.ca/2018/03/25/aspnet-for-beginner-part-4-crud-va-data-validation/">Ph·∫ßn 4: CRUD v√† Data Validation</a></li>
</ul>
</blockquote>
<p><em><strong>Table of Contents</strong></em></p>
<!-- TOC -->

<ul>
<li><a href="#1-l%E1%BB%B1a-ch%E1%BB%8Dn-database">1. L·ª±a ch·ªçn database</a><ul>
<li><a href="#11-sql-server">1.1. SQL Server</a></li>
<li><a href="#12-the-others">1.2. The others</a></li>
</ul>
</li>
<li><a href="#2-entity-framework">2. Entity Framework</a></li>
<li><a href="#3-t%E1%BA%A1o-model-v%C3%A0-database">3. T·∫°o Model v√† Database</a><ul>
<li><a href="#31-t%E1%BA%A1o-model-phone">3.1. T·∫°o model Phone</a></li>
<li><a href="#32-t%E1%BA%A1o-database-context">3.2. T·∫°o Database Context</a></li>
<li><a href="#33-c%C3%A0i-%C4%91%E1%BA%B7t-connection-string">3.3. C√†i ƒë·∫∑t Connection String</a></li>
<li><a href="#34-c%C3%A0i-%C4%91%E1%BA%B7t-k%E1%BA%BFt-n%E1%BB%91i">3.4. C√†i ƒë·∫∑t k·∫øt n·ªëi</a></li>
<li><a href="#35-t%E1%BA%A1o-migration-%C4%91%E1%BA%A7u-ti%C3%AAn">3.5. T·∫°o Migration ƒë·∫ßu ti√™n</a></li>
</ul>
</li>
<li><a href="#4-model-binding">4. Model Binding</a><ul>
<li><a href="#41-t%E1%BA%A1o-controller">4.1. T·∫°o Controller</a></li>
<li><a href="#42-c%C3%A1c-nuget-c%E1%BA%A7n-thi%E1%BA%BFt">4.2. C√°c nuget c·∫ßn thi·∫øt</a></li>
<li><a href="#43-scaffolding">4.3. Scaffolding</a></li>
</ul>
</li>
<li><a href="#5-model-binding">5. Model Binding</a></li>
</ul>
<!-- /TOC -->

<p>C√≥ th·ªÉ hi·ªÉu database l√† tr√°i tim c·ªßa ·ª©ng d·ª•ng, c√≤n asp.net l√† b·ªô n√£o. Thi·∫øt k·∫ø m·ªôt database cho ƒë√∫ng chu·∫©n th√¨ ƒë√≤i h·ªèi kha kh√° th·ªùi gian h·ªçc + luy·ªán t·∫≠p th√¨ n√≥ m·ªõi l√™n tr√¨nh ƒë∆∞·ª£c.</p>
<p>M·ªôt c√°ch kh√°c r·∫•t hay l√† b·∫Øt tay v√†o l√†m m·ªôt project th·ª±c t·∫ø. N·∫øu l√†m theo ph·∫ßn tr∆∞·ªõc, ch·∫Øc b·∫°n c≈©ng ƒë√£ c√≥ 1 sample project v·ªõi t√™n mvcbasic nh·ªâ.</p>
<p>Nh√¨n chung, b·∫°n s·∫Ω c√≥ 1 project gi·ªëng nh∆∞ sau: <a target="_blank" rel="noopener" href="https://github.com/huntertran/mvcbasic/releases/tag/0.1">MVC Basic 0.1 on Github</a></p>
<h1 id="1-Lua-chon-database"><a href="#1-Lua-chon-database" class="headerlink" title="1. L·ª±a ch·ªçn database"></a>1. L·ª±a ch·ªçn database</h1><p><a id="markdown-l%E1%BB%B1a-ch%E1%BB%8Dn-database" name="l%E1%BB%B1a-ch%E1%BB%8Dn-database"></a></p>
<p>C√≥ h∆°i b·ªã nhi·ªÅu h·ªá qu·∫£n tr·ªã c∆° s·ªü d·ªØ li·ªáu ƒëang ƒë·∫•u ƒë√° nhau tr√™n th·ªã tr∆∞·ªùng. ·ªû ƒë√¢y m√¨nh s·∫Ω n√≥i s∆° qua 1 s·ªë lo·∫°i ph·ªï bi·∫øn</p>
<h2 id="1-1-SQL-Server"><a href="#1-1-SQL-Server" class="headerlink" title="1.1. SQL Server"></a>1.1. SQL Server</h2><p><a id="markdown-sql-server" name="sql-server"></a></p>
<p>C√¢y nh√† l√† v∆∞·ªùn, mi·ªÖn ph√≠ cho ng∆∞·ªùi d√πng c√° nh√¢n, hi·ªáu su·∫•t cao, m·∫°nh m·∫Ω, l√† h·ªá c∆° s·ªü d·ªØ li·ªáu c√≥ quan h·ªá. Sql Server ƒë√£ ch·ª©ng minh cho m·ªçi dev th·∫•y t√≠nh ·ªïn ƒë·ªãnh c·ªßa n√≥.</p>
<h2 id="1-2-The-others"><a href="#1-2-The-others" class="headerlink" title="1.2. The others"></a>1.2. The others</h2><p><a id="markdown-the-others" name="the-others"></a></p>
<p>Nh√¨n chung, Microsoft c√≥ h·ªó tr·ª£ kha kh√° c√°c h·ªá c∆° s·ªü d·ªØ li·ªáu kh√°c nh∆∞ MySQL, PostgreSQL, SQLite, nh∆∞ng n·∫øu ƒë√£ l·ª±a ch·ªçn c√°c h·ªá n√†y, th√¨ b·∫°n s·∫Ω ph·∫£i t·ª± m√†y m√≤ kha kh√° c√°c v·∫•n ƒë·ªÅ m√† ƒëa ph·∫ßn ƒë√£ ƒë∆∞·ª£c gi·∫£i quy·∫øt khi d√πng SQL Server</p>
<h1 id="2-Entity-Framework"><a href="#2-Entity-Framework" class="headerlink" title="2. Entity Framework"></a>2. Entity Framework</h1><p><a id="markdown-entity-framework" name="entity-framework"></a></p>
<p>ASP.NET c√≥ m·ªôt ƒëi·ªÉm m·∫°nh l√† Entity Framework (EF). ·ªû phi√™n b·∫£n core th√¨ n√≥ c√≥ th√™m EF Core. EF hi·ªÉu n√¥m na l√† m·ªôt b·ªô c√¥ng c·ª• cho ph√©p b·∫°n k·∫øt n·ªëi t·ªõi database, truy v·∫•n, th√™m x√≥a s·ª≠a v√¢n v√¢n m√† kh√¥ng c·∫ßn ph·∫£i c√≥ ki·∫øn th·ª©c v·ªÅ c√°ch vi·∫øt SQL.</p>
<p>C√≥ l·ª£i th√¨ c≈©ng ph·∫£i c√≥ h·∫°i, EF theo ƒë√°nh gi√° c·ªßa nhi·ªÅu ng∆∞·ªùi th√¨ n√≥ kh√°‚Ä¶.ch·∫≠m. ƒêi·ªÅu n√†y ƒë√£ v√† ƒëang ƒë∆∞·ª£c c·∫£i thi·ªán r·∫•t nhi·ªÅu ·ªü phi√™n b·∫£n m·ªõi ƒëi k√®m v·ªõi ASP.NET Core l√† Entity Framework Core.</p>
<p>B·∫°n c·∫ßn c√†i ƒë·∫∑t</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.microsoft.com/en-us/sql-server/sql-server-editions-express">SQL Server Express</a></li>
<li><a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/sql/ssms/download-sql-server-management-studio-ssms">SQL Server Management Studio</a> (optional)</li>
</ul>
<p>C√†i nuget package</p>
<p>M·ªü project mvcbasic b·∫±ng vscode</p>
<p>L·∫ßn l∆∞·ª£t g√µ c√°c l·ªánh sau trong terminal</p>
<pre><code class="highlight s">dotnet add package Microsoft.EntityFrameworkCore.SqlServer
dotnet add package Microsoft.VisualStudio.Web.CodeGeneration.Design</code></pre>

<p>Sau ƒë√≥, m·ªü file mvcbasic.csproj v√† th√™m d√≤ng sau</p>
<pre><code class="highlight xml"><span class="tag">&lt;<span class="name">ItemGroup</span>&gt;</span>
  <span class="tag">&lt;<span class="name">DotNetCliToolReference</span> <span class="attr">Include</span>=<span class="string">&quot;Microsoft.EntityFrameworkCore.Tools.DotNet&quot;</span> <span class="attr">Version</span>=<span class="string">&quot;2.0.0&quot;</span> /&gt;</span>
<span class="tag">&lt;/<span class="name">ItemGroup</span>&gt;</span></code></pre>

<p>ti·∫øp t·ª•c g√µ trong terminal</p>
<pre><code class="highlight s">dotnet restore</code></pre>

<h1 id="3-Tao-Model-va-Database"><a href="#3-Tao-Model-va-Database" class="headerlink" title="3. T·∫°o Model v√† Database"></a>3. T·∫°o Model v√† Database</h1><p><a id="markdown-t%E1%BA%A1o-model-v%C3%A0-database" name="t%E1%BA%A1o-model-v%C3%A0-database"></a></p>
<p>C√≥ 2 c√°ch ƒë·ªÉ b·∫Øt ƒë·∫ßu l√†m vi·ªác v·ªõi database trong asp.net core l√† Code first v√† Database first.</p>
<p>Ng·∫Øn g·ªçn th√¨ Code first cho ph√©p b·∫°n vi·∫øt code tr∆∞·ªõc (t·∫°o c√°c model class), r·ªìi c√°c model b·∫°n t·∫°o s·∫Ω ƒë∆∞·ª£c c·∫≠p nh·∫≠t l√™n database th√¥ng qua c√°c <code>migration</code>. Database first th√¨ l√† c√°ch truy·ªÅn th·ªëng t·ª´ x∆∞a t·ªõi nay: T·∫°o database tr∆∞·ªõc, v√† code c·ªßa b·∫°n c√≥ nghƒ©a v·ª• ‚Äòconnect‚Äô t·ªõi database ƒë√≥.</p>
<p>B·∫°n c√≥ th·ªÉ tham kh·∫£o th√™m ·ªü ƒë√¢y: <a target="_blank" rel="noopener" href="https://huntertran.ca/2017/01/06/asp-net-mvc-code-first-vs-database-first/">Code first vs Database first</a></p>
<h2 id="3-1-Tao-model-Phone"><a href="#3-1-Tao-model-Phone" class="headerlink" title="3.1. T·∫°o model Phone"></a>3.1. T·∫°o model Phone</h2><p><a id="markdown-t%E1%BA%A1o-model-phone" name="t%E1%BA%A1o-model-phone"></a></p>
<p>chu·ªôt ph·∫£i v√†o folder Models &gt; new file &gt; Phone.cs</p>
<pre><code class="highlight cs"><span class="keyword">namespace</span> <span class="title">mvcbasic.Models</span>
&#123;
    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Phone</span>
    &#123;
        <span class="keyword">public</span> <span class="built_in">int</span> Id &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;
        <span class="keyword">public</span> <span class="built_in">string</span> Name &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;
    &#125;
&#125;</code></pre>

<h2 id="3-2-Tao-Database-Context"><a href="#3-2-Tao-Database-Context" class="headerlink" title="3.2. T·∫°o Database Context"></a>3.2. T·∫°o Database Context</h2><p><a id="markdown-t%E1%BA%A1o-database-context" name="t%E1%BA%A1o-database-context"></a></p>
<p>Database Context c√≥ th·ªÉ hi·ªÉu nh∆∞ m·ªôt c√¥ng c·ª• cho ph√©p ·ª©ng d·ª•ng c·ªßa b·∫°n k·∫øt n·ªëi t·ªõi Database v√† th·ª±c hi·ªán c√°c t√°c v·ª• th√™m x√≥a s·ª≠a.</p>
<p>T·∫°o 1 folder m·ªõi ·ªü th∆∞ m·ª•c g·ªëc v·ªõi t√™n ‚ÄòData‚Äô</p>
<p>Chu·ªôt ph·∫£i v√†o folder Data &gt; new file &gt; MvcBasicDbContext.cs</p>
<pre><code class="highlight cs"><span class="keyword">namespace</span> <span class="title">mvcbasic.Data</span>
&#123;
    <span class="keyword">using</span> Models;
    <span class="keyword">using</span> Microsoft.EntityFrameworkCore;
 
    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MvcBasicDbContext</span> : <span class="title">DbContext</span>
    &#123;
        <span class="function"><span class="keyword">public</span> <span class="title">MvcBasicDbContext</span>(<span class="params">DbContextOptions&lt;MvcBasicDbContext&gt; options</span>) : <span class="title">base</span>(<span class="params">options</span>)</span>
        &#123;
        &#125;
 
        <span class="keyword">public</span> DbSet&lt;Phone&gt; Phones &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;
    &#125;
&#125;</code></pre>

<h2 id="3-3-Cai-dat-Connection-String"><a href="#3-3-Cai-dat-Connection-String" class="headerlink" title="3.3. C√†i ƒë·∫∑t Connection String"></a>3.3. C√†i ƒë·∫∑t Connection String</h2><p><a id="markdown-c%C3%A0i-%C4%91%E1%BA%B7t-connection-string" name="c%C3%A0i-%C4%91%E1%BA%B7t-connection-string"></a></p>
<p>ƒê·ªÉ k·∫øt n·ªëi t·ªõi database, th√¨ Entity Framework s·∫Ω c·∫ßn c√≥ c√°c th√¥ng tin nh∆∞ username, password, t√™n database, server ƒëang host c√°i database n√†y. T·∫•t c·∫£ th√¥ng s·ªë ƒë√≥ ƒë·ªÅu g·ªôp chung l·∫°i th√†nh 1 ƒëo·∫°n string, v√† giang h·ªì g·ªçi n√≥ l√† <code>connection string</code></p>
<p>M·ªü file appsettings.json v√† th√™m v√†o ƒëo·∫°n json sau</p>
<pre><code class="highlight json"><span class="attr">&quot;ConnectionStrings&quot;</span> <span class="punctuation">:</span> <span class="punctuation">&#123;</span> <span class="attr">&quot;PhoneDbConnectionString&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Server=(localdb)\\\\mssqllocaldb;Database=PhoneDb;Trusted\_Connection=True;&quot;</span> <span class="punctuation">&#125;</span></code></pre>

<blockquote>
<p>ƒêo·∫°n connection string tr√™n c√≥ √Ω nghƒ©a nh∆∞ sau Server: LocalDb (l√† m·ªôt d·∫°ng database local c√≥ tr√™n c√°c phi√™n b·∫£n m·ªõi c·ªßa SQL Server) Database: PhoneDb Connection t·ªõi database d√πng Windows Authentication</p>
</blockquote>
<p>B·∫°n c√≥ th·ªÉ s·∫Ω ph·∫£i config l·∫°i ƒëo·∫°n connection string n√†y cho ƒë√∫ng v·ªõi m√¥i tr∆∞·ªùng l√†m vi·ªác c·ªßa b·∫°n</p>
<h2 id="3-4-Cai-dat-ket-noi"><a href="#3-4-Cai-dat-ket-noi" class="headerlink" title="3.4. C√†i ƒë·∫∑t k·∫øt n·ªëi"></a>3.4. C√†i ƒë·∫∑t k·∫øt n·ªëi</h2><p><a id="markdown-c%C3%A0i-%C4%91%E1%BA%B7t-k%E1%BA%BFt-n%E1%BB%91i" name="c%C3%A0i-%C4%91%E1%BA%B7t-k%E1%BA%BFt-n%E1%BB%91i"></a></p>
<p>M·ªü file Startup.cs, t√¨m method <code>ConfigureServices</code> v√† th√™m v√†o d√≤ng sau</p>
<pre><code class="highlight cs">services.AddDbContext&lt;MvcBasicDbContext&gt;(options =&gt; options.UseSqlServer(Configuration.GetConnectionString(<span class="string">&quot;PhoneDbConnectionString&quot;</span>)));</code></pre>

<p>v√† nh·ªõ add th√™m 2 d√≤ng using</p>
<pre><code class="highlight cs"><span class="keyword">using</span> Microsoft.EntityFrameworkCore;
<span class="keyword">using</span> mvcbasic.Data;</code></pre>

<h2 id="3-5-Tao-Migration-dau-tien"><a href="#3-5-Tao-Migration-dau-tien" class="headerlink" title="3.5. T·∫°o Migration ƒë·∫ßu ti√™n"></a>3.5. T·∫°o Migration ƒë·∫ßu ti√™n</h2><p><a id="markdown-t%E1%BA%A1o-migration-%C4%91%E1%BA%A7u-ti%C3%AAn" name="t%E1%BA%A1o-migration-%C4%91%E1%BA%A7u-ti%C3%AAn"></a></p>
<p>Sau khi t·∫•t c·∫£ c√°c thao t√°c chu·∫©n b·ªã ƒë√£ ho√†n t·∫•t, ƒë√£ t·ªõi l√∫c b·∫°n t·∫°o migration ƒë·∫ßu ti√™n c·ªßa m√¨nh</p>
<p>Trong terminal, g√µ</p>
<pre><code class="highlight s">dotnet ef migrations add InitialCreate</code></pre>

<p>VSCode s·∫Ω t·ª± ƒë·ªông t·∫°o ra m·ªôt th∆∞ m·ª•c t√™n Migrations, v√† th√™m c∆° s·ªë file v√†o ƒë·∫•y</p>
<p><a href="/images/flickr/4784/40748059781_d2b5740095_o.png">new files</a></p>
<p>Ti·∫øp t·ª•c, g√µ</p>
<pre><code class="highlight s">dotnet ef database update</code></pre>

<p>th√¨ nh·ªØng migration n√†y s·∫Ω ƒë∆∞·ª£c th·ª±c thi, v√† database s·∫Ω ƒë∆∞·ª£c t·∫°o ra</p>
<p><img src="/images/flickr/4774/38937566770_e203e7c169_o.png" alt="database created"></p>
<blockquote>
<p>ƒê·ªÉ ki·ªÉm tra, b·∫°n c√≥ th·ªÉ d√πng Microsoft SQL Server Management Studio v·ªõi c√°c th√¥ng s·ªë sau</p>
<ul>
<li><strong>Server Name</strong>: (LocalDb)\MSSQLLocalDB</li>
<li><strong>Authentication</strong>: Windows Authentication</li>
</ul>
<p>MSSQLLocalDB l√† t√™n instance c·ªßa b·∫°n, c√≥ th·ªÉ kh√°c n·∫øu khi c√†i SQL Server b·∫°n ko ch·ªçn nh∆∞ default</p>
</blockquote>
<h1 id="4-Model-Binding"><a href="#4-Model-Binding" class="headerlink" title="4. Model Binding"></a>4. Model Binding</h1><p><a id="markdown-model-binding" name="model-binding"></a></p>
<p>Sau khi ho√†n t·∫•t c√°c b∆∞·ªõc tr√™n, c∆° b·∫£n web app c·ªßa b·∫°n ƒë√£ c√≥ th·ªÉ k·∫øt n·ªëi t·ªõi database. Nh∆∞ng ƒë·ªÉ th·ª±c hi·ªán c√°c h√†nh ƒë·ªông th√™m x√≥a s·ª≠a, th√¨ b·∫°n c·∫ßn ph·∫£i c√≥ Controller n·ªØa</p>
<blockquote>
<p>B·∫°n c√≥ th·ªÉ t·∫£i project ho√†n t·∫•t ·ªü b∆∞·ªõc 3 t·∫°i <a target="_blank" rel="noopener" href="https://github.com/huntertran/mvcbasic/releases/tag/0.2">ƒë√¢y</a></p>
</blockquote>
<h2 id="4-1-Tao-Controller"><a href="#4-1-Tao-Controller" class="headerlink" title="4.1. T·∫°o Controller"></a>4.1. T·∫°o Controller</h2><p><a id="markdown-t%E1%BA%A1o-controller" name="t%E1%BA%A1o-controller"></a></p>
<p>VSCode c≈©ng h·ªó tr·ª£ b·∫°n trong vi·ªác t·ª± ƒë·ªông t·∫°o ra controller mong mu·ªën m√† ko ph·∫£i code nhi·ªÅu (th·ª±c ra ko ph·∫£i l√† VSCode h·ªó tr·ª£, m√† m·ªôt c√¥ng c·ª• g·ªçi l√† .NET Cli tools v√† v√†i nuget package cho ph√©p b·∫°n l√†m chuy·ªán n√†y, nh∆∞ng tr∆∞·ªõc m·∫Øt c·ª© hi·ªÉu v·∫≠y ƒë√£)</p>
<p>T√™n Controller, theo asp.net convention nh∆∞ m√¨nh ƒë√£ n√≥i ·ªü ph·∫ßn 1, s·∫Ω c√≥ d·∫°ng <code>[T√™n]Controller</code>, trong tr∆∞·ªùng h·ª£p n√†y s·∫Ω l√† <code>PhoneController</code>.</p>
<blockquote>
<p>M·ªôt quy t·∫Øc ƒë·∫∑t t√™n ph·ªï bi·∫øn l√†</p>
<ul>
<li>T√™n b·∫£ng -&gt; s·ªë nhi·ªÅu: Phones</li>
<li>T√™n model -&gt; s·ªë √≠t: Phone</li>
<li>T√™n controller: PhoneController</li>
<li>T√™n view: Create, Delete, Details, Edit v√† Index</li>
</ul>
</blockquote>
<h2 id="4-2-Cac-nuget-can-thiet"><a href="#4-2-Cac-nuget-can-thiet" class="headerlink" title="4.2. C√°c nuget c·∫ßn thi·∫øt"></a>4.2. C√°c nuget c·∫ßn thi·∫øt</h2><p><a id="markdown-c%C3%A1c-nuget-c%E1%BA%A7n-thi%E1%BA%BFt" name="c%C3%A1c-nuget-c%E1%BA%A7n-thi%E1%BA%BFt"></a></p>
<p>ƒê·ªÉ c√≥ th·ªÉ t·∫°o controller, b·∫°n s·∫Ω c·∫ßn th√™m m·ªôt s·ªë tool n·ªØa</p>
<p>M·ªü mvcbasic.csproj v√† th√™m c√°c d√≤ng sau</p>
<pre><code class="highlight xml">...
<span class="tag">&lt;<span class="name">PackageReference</span> <span class="attr">Include</span>=<span class="string">&quot;Microsoft.VisualStudio.Web.CodeGeneration.Design&quot;</span> <span class="attr">Version</span>=<span class="string">&quot;2.0.2&quot;</span> /&gt;</span>
...
<span class="tag">&lt;<span class="name">DotNetCliToolReference</span> <span class="attr">Include</span>=<span class="string">&quot;Microsoft.VisualStudio.Web.CodeGeneration.Tools&quot;</span> <span class="attr">Version</span>=<span class="string">&quot;2.0.2&quot;</span> /&gt;</span>
...</code></pre>

<p>T·ªïng quan, file csproj s·∫Ω gi·ªëng nh∆∞ sau</p>
<pre><code class="highlight xml"><span class="tag">&lt;<span class="name">Project</span> <span class="attr">Sdk</span>=<span class="string">&quot;Microsoft.NET.Sdk.Web&quot;</span>&gt;</span>
 
  <span class="tag">&lt;<span class="name">PropertyGroup</span>&gt;</span>
    <span class="tag">&lt;<span class="name">TargetFramework</span>&gt;</span>netcoreapp2.0<span class="tag">&lt;/<span class="name">TargetFramework</span>&gt;</span>
  <span class="tag">&lt;/<span class="name">PropertyGroup</span>&gt;</span>
 
  <span class="tag">&lt;<span class="name">ItemGroup</span>&gt;</span>
    <span class="tag">&lt;<span class="name">PackageReference</span> <span class="attr">Include</span>=<span class="string">&quot;Microsoft.AspNetCore.All&quot;</span> <span class="attr">Version</span>=<span class="string">&quot;2.0.5&quot;</span> /&gt;</span>
    <span class="tag">&lt;<span class="name">PackageReference</span> <span class="attr">Include</span>=<span class="string">&quot;Microsoft.EntityFrameworkCore.SqlServer&quot;</span> <span class="attr">Version</span>=<span class="string">&quot;2.0.1&quot;</span> /&gt;</span>
    <span class="tag">&lt;<span class="name">PackageReference</span> <span class="attr">Include</span>=<span class="string">&quot;Microsoft.EntityFrameworkCore.SqlServer.Design&quot;</span> <span class="attr">Version</span>=<span class="string">&quot;1.1.5&quot;</span> /&gt;</span>
    <span class="tag">&lt;<span class="name">PackageReference</span> <span class="attr">Include</span>=<span class="string">&quot;Microsoft.VisualStudio.Web.CodeGeneration.Design&quot;</span> <span class="attr">Version</span>=<span class="string">&quot;2.0.2&quot;</span> /&gt;</span>
  <span class="tag">&lt;/<span class="name">ItemGroup</span>&gt;</span>
 
  <span class="tag">&lt;<span class="name">ItemGroup</span>&gt;</span>
    <span class="tag">&lt;<span class="name">DotNetCliToolReference</span> <span class="attr">Include</span>=<span class="string">&quot;Microsoft.EntityFrameworkCore.Tools.DotNet&quot;</span> <span class="attr">Version</span>=<span class="string">&quot;2.0.1&quot;</span> /&gt;</span>
    <span class="tag">&lt;<span class="name">DotNetCliToolReference</span> <span class="attr">Include</span>=<span class="string">&quot;Microsoft.VisualStudio.Web.CodeGeneration.Tools&quot;</span> <span class="attr">Version</span>=<span class="string">&quot;2.0.2&quot;</span> /&gt;</span>
  <span class="tag">&lt;/<span class="name">ItemGroup</span>&gt;</span>
 
<span class="tag">&lt;/<span class="name">Project</span>&gt;</span></code></pre>

<h2 id="4-3-Scaffolding"><a href="#4-3-Scaffolding" class="headerlink" title="4.3. Scaffolding"></a>4.3. Scaffolding</h2><p><a id="markdown-scaffolding" name="scaffolding"></a></p>
<p>M·ªü terminal, v√† g√µ l·ªánh sau</p>
<pre><code class="highlight s">dotnet restore
dotnet build
 
dotnet aspnet-codegenerator controller -name PhoneController -m Phone -dc MvcBasicDbContext --relativeFolderPath Controllers --useDefaultLayout --referenceScriptLibraries</code></pre>

<p>Nh√¨n v√†o c√¢u l·ªánh tr√™n, ch·∫Øc b·∫°n c≈©ng s·∫Ω ƒëo√°n ƒë∆∞·ª£c n√≥ l√†m g√¨: ‚ÄúN√†y dotnet, t·∫°o cho tao 1 controller m·ªõi t√™n l√† <code>PhoneController</code>, d√πng model l√† <code>Phone</code>, Data Context l√† <code>MvcBasicDbContext</code>, trong folder t√™n l√† <code>Controllers</code>, d√πng default layout, √† c√≥ scripts ƒëi k√®m nh√°‚Äù</p>
<p>2 c√¢u l·ªánh ƒë·∫ßu ti√™n gi√∫p b·∫°n th·ª±c s·ª± c√†i nuget, v√† build project m·ªôt ph√°t ƒë·ªÉ ƒë·∫£m b·∫£o ko c√≥ l·ªói ph√°t sinh, v√† clear c√°c file t·∫°m ko c√≤n c·∫ßn thi·∫øt</p>
<p><img src="/images/flickr/4782/40705936652_1e3d6b551d_o.png" alt="create new controller"></p>
<p>g√µ ti·∫øp <code>dotnet run</code> ƒë·ªÉ ch·∫°y th·ª≠ app</p>
<p><img src="/images/flickr/4779/25877724937_7bfed1c8d7_o.png" alt="app with phone controller"></p>
<p>b·∫°n c√≥ th·ªÉ v·ªçc v·∫°ch c√°c ki·ªÉu v·ªõi c√°c link m√† asp.net core t·∫°o s·∫µn cho b·∫°n, create new, edit, delete, details g√¨ ƒë·∫•y th√¨ t√πy</p>
<h1 id="5-Model-Binding"><a href="#5-Model-Binding" class="headerlink" title="5. Model Binding"></a>5. Model Binding</h1><p><a id="markdown-model-binding" name="model-binding"></a></p>
<p>M·ªü file PhoneController ra, b·∫°n s·∫Ω th·∫•y c√≥ s·∫µn code trong ƒë·∫•y r·ªìi, tuy ko ƒë·∫πp l·∫Øm, nh∆∞ng nh√¨n chung l√† n√≥ ch·∫°y t·ªët</p>
<p>H√£y nh√¨n v√†o method Details</p>
<pre><code class="highlight cs"><span class="comment">// GET: Phone/Details/5</span>
<span class="function"><span class="keyword">public</span> <span class="keyword">async</span> Task&lt;IActionResult&gt; <span class="title">Details</span>(<span class="params"><span class="built_in">int</span>? id</span>)</span>
&#123;
    <span class="keyword">if</span> (id == <span class="literal">null</span>)
    &#123;
        <span class="keyword">return</span> NotFound();
    &#125;
 
    <span class="keyword">var</span> phone = <span class="keyword">await</span> _context.Phones
                              .SingleOrDefaultAsync(m =&gt; m.Id == id);
    <span class="keyword">if</span> (phone == <span class="literal">null</span>)
    &#123;
        <span class="keyword">return</span> NotFound();
    &#125;
 
    <span class="keyword">return</span> View(phone);
&#125;</code></pre>

<p>Method n√†y nh·∫≠n m·ªôt tham s·ªë l√† nullable int c√≥ t√™n l√† id, khi b·∫°n g·ªçi t·ªõi url Phone&#x2F;Details&#x2F;5 (nh∆∞ d√≤ng comment ·ªü b√™n tr√™n), th√¨ s·ªë 5 ƒë√≥ s·∫Ω ƒë∆∞·ª£c hi·ªÉu l√† Id. ƒê√≥ ch√≠nh l√† model binding</p>
<p>Ti·∫øp t·ª•c, nh√¨n v√†o class Create c√≥ attribute <code>[HttpPost]</code></p>
<pre><code class="highlight cs"><span class="comment">// POST: Phone/Create</span>
<span class="comment">// To protect from overposting attacks, please enable the specific properties you want to bind to, for </span>
<span class="comment">// more details see http://go.microsoft.com/fwlink/?LinkId=317598.</span>
[<span class="meta">HttpPost</span>]
[<span class="meta">ValidateAntiForgeryToken</span>]
<span class="function"><span class="keyword">public</span> <span class="keyword">async</span> Task&lt;IActionResult&gt; <span class="title">Create</span>(<span class="params">[Bind(<span class="string">&quot;Id,Name&quot;</span></span>)] Phone phone)</span>
&#123;
    <span class="keyword">if</span> (ModelState.IsValid)
    &#123;
        _context.Add(phone);
        <span class="keyword">await</span> _context.SaveChangesAsync();
        <span class="keyword">return</span> RedirectToAction(<span class="keyword">nameof</span>(Index));
    &#125;
    <span class="keyword">return</span> View(phone);
&#125;</code></pre>

<p>Model binding c√≤n vi di·ªáu ·ªü ch·ªó, n·∫øu b·∫°n d√πng h·∫≥n 1 class l√†m parameter, th√¨ ASP.NET s·∫Ω t·ª± hi·ªÉu c√°c property trong class ƒë√≥, v√† g·∫Øn ƒë√∫ng t·ª´ng gi√° tr·ªã m·ªôt</p>
<p>B·∫°n c√≥ th·ªÉ x√≥a <code>[Bind(&quot;Id,Name&quot;)]</code> ƒëi v√† code v·∫´n ch·∫°y t·ªët, nh∆∞ng nh∆∞ Microsoft ƒë√£ c·∫£nh b√°o, ƒë·ªÉ b·∫£o v·ªá b·∫°n kh·ªèi chuy·ªán orver posting attack, th√¨ b·∫°n ph·∫£i ch·ªâ ƒë·ªãnh lu√¥n l√† property n√†o s·∫Ω ƒë∆∞·ª£c g·∫Øn</p>
<p>Method n√†y t∆∞∆°ng ·ª©ng v·ªõi Views &gt; Phone &gt; Create.cshtml</p>
<pre><code class="highlight html"><span class="comment">&lt;!--d√≤ng 17--&gt;</span>
<span class="tag">&lt;<span class="name">input</span> <span class="attr">asp-for</span>=<span class="string">&quot;Name&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> /&gt;</span></code></pre>

<p>t·ª´ kh√≥a <code>asp-for</code> th√¥ng b√°o r·∫±ng Name l√† property s·∫Ω ƒë∆∞·ª£c truy·ªÅn l√™n server, v√† server s·∫Ω ‚Äúg·∫Øn‚Äù n√≥ v√†o model phone c·ªßa method Create</p>
<blockquote>
<p>T·∫°i sao l·∫°i ko c√≥ Id? V√¨ Id m·∫∑c ƒë·ªãnh ƒë∆∞·ª£c coi nh∆∞ Key c·ªßa b·∫£ng Phone, v√† key th√¨ ko c·∫ßn ph·∫£i c√≥ khi t·∫°o m·ªõi, v√¨ database s·∫Ω t·ª± sinh ra n√≥</p>
</blockquote>
<p>Ti·∫øp t·ª•c, m·ªü Views &gt; Phone &gt; Index.cshtml b·∫°n s·∫Ω th·∫•y ƒëo·∫°n code sau</p>
<pre><code class="highlight cs">@foreach (<span class="keyword">var</span> item <span class="keyword">in</span> Model)
&#123;
    &lt;tr&gt;
        &lt;td&gt;
            @Html.DisplayFor(modelItem =&gt; item.Name)
        &lt;/td&gt;
        &lt;td&gt;
            &lt;a asp-action=<span class="string">&quot;Edit&quot;</span> asp-route-id=<span class="string">&quot;@item.Id&quot;</span>&gt;Edit&lt;/a&gt; |
            &lt;a asp-action=<span class="string">&quot;Details&quot;</span> asp-route-id=<span class="string">&quot;@item.Id&quot;</span>&gt;Details&lt;/a&gt; |
            &lt;a asp-action=<span class="string">&quot;Delete&quot;</span> asp-route-id=<span class="string">&quot;@item.Id&quot;</span>&gt;Delete&lt;/a&gt;
        &lt;/td&gt;
    &lt;/tr&gt;
&#125;</code></pre>

<blockquote>
<p>√¥ l·∫° ch∆∞a, c√≥ foreach trong html Ng√¥n ng·ªØ n√†y g·ªçi l√† Razor, cho ph√©p b·∫°n th·ª±c thi m·ªôt s·ªë ƒëo·∫°n code C# trong html, gi√∫p cho vi·ªác render ra c√°c tag html nh∆∞ mong mu·ªën.</p>
</blockquote>
<p>Razor th√¥ng minh t·ªõi m·ª©c n√≥ t·ª± hi·ªÉu ch·ªó n√†o l√† code html, v√† ch·ªó n√†o l√† code Razor, v·ªõi c√°c nguy√™n t·∫Øc v√¥ c√πng ƒë∆°n gi·∫£n</p>
<ul>
<li>M·ªói ƒëo·∫°n code razor ƒë·ªÅu b·∫Øt ƒë·∫ßu b·∫±ng d·∫•u <code>@</code></li>
<li>Ngay sau d·∫•u <code>&#123;</code> ho·∫∑c <code>(</code> th√¨ ko c·∫ßn <code>@</code></li>
</ul>
<p>Database v√† Model binding c√≤n nhi·ªÅu ƒëi·ªÅu ƒë·ªÉ n√≥i. T·∫°m th·ªùi ta c·ª© hi·ªÉu v·∫≠y ƒë√£</p>
<p>ƒê√≥n ƒë·ªçc ph·∫ßn 3 b·∫°n nh√© üòÉ</p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="reward-container">
  <div>Buy me a coffee</div>
  <button>
    Donate
  </button>
  <div class="post-reward">
      <div>
        <img src="/images/theme/paypal.png" alt="Hunter Tran PayPal">
        <span>PayPal</span>
      </div>

  </div>
</div>

          

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>Post author:  </strong>Hunter Tran
  </li>
  <li class="post-copyright-link">
      <strong>Post link: </strong>
      <a href="https://huntertran.github.io/blog/2018/03/11/asp-net-for-beginner-part-2-connect-database-and-model-binding/" title="[ASP.NET for Beginner] - Part 2 - Connect Database and Model Binding">https://huntertran.github.io/blog/2018/03/11/asp-net-for-beginner-part-2-connect-database-and-model-binding/</a>
  </li>
  <li class="post-copyright-license">
      <strong>Copyright Notice:  </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> unless stating additionally.
  </li>
</ul>
</div>

          <div class="followme">
  <span>Welcome to my other publishing channels</span>

  <div class="social-list">

      <div class="social-item">
          <a target="_blank" class="social-link" href="https://twitter.com/huntertrantuan">
            <span class="icon">
              <i class="fab fa-twitter"></i>
            </span>

            <span class="label">Twitter</span>
          </a>
      </div>

      <div class="social-item">
          <a target="_blank" class="social-link" href="/atom.xml">
            <span class="icon">
              <i class="fa fa-rss"></i>
            </span>

            <span class="label">RSS</span>
          </a>
      </div>
  </div>
</div>

          <div class="post-tags">
              <a href="/tags/core/" rel="tag"># core</a>
              <a href="/tags/database/" rel="tag"># database</a>
              <a href="/tags/entity-framework/" rel="tag"># entity framework</a>
              <a href="/tags/model/" rel="tag"># model</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2018/03/04/asp-net-for-beginner-part-1-mvc/" rel="prev" title="[ASP.NET for Beginner] - Part 1 - MVC">
                  <i class="fa fa-angle-left"></i> [ASP.NET for Beginner] - Part 1 - MVC
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2018/03/18/asp-net-for-beginner-part-3-front-end-framework-nao/" rel="next" title="[ASP.NET for Beginner] - Part 3 - Front end framework n√†o?">
                  [ASP.NET for Beginner] - Part 3 - Front end framework n√†o? <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






      <div class="tabs tabs-comment">
        <ul class="nav-tabs">
            <li class="tab"><a href="#comment-disqus">disqus</a></li>
            <li class="tab"><a href="#comment-utterances">utterances</a></li>
        </ul>
        <div class="tab-content">
            <div class="tab-pane disqus" id="comment-disqus">
              
  <div class="comments" id="disqus_thread">
    <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
  </div>
  
            </div>
            <div class="tab-pane utterances" id="comment-utterances">
              <div class="comments utterances-container"></div>
            </div>
        </div>
      </div>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 2011 ‚Äì 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Hunter Tran</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script size="300" alpha="0.6" zIndex="-1" src="https://cdn.jsdelivr.net/npm/ribbon.js@1.0.2/dist/ribbon.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js" integrity="sha256-4mJNT2bMXxcc1GCJaxBmMPdmah5ji0Ldnd79DKd1hoM=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js" integrity="sha256-AjM0J5XIbiB590BrznLEgZGLnOQWrt62s3BEq65Q/I0=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/line-numbers/prism-line-numbers.min.js" integrity="sha256-9cmf7tcLdXpKsPi/2AWE93PbZpTp4M4tqzFk+lWomjU=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@next-theme/pjax@0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script><script src="/js/pjax.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.1/dist/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>







  




  

  <script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>


<script class="next-config" data-name="disqus" type="application/json">{"enable":true,"shortname":"huntertran-blog","count":true,"i18n":{"disqus":"disqus"}}</script>
<script src="/js/third-party/comments/disqus.js"></script>
<script class="next-config" data-name="utterances" type="application/json">{"enable":true,"repo":"huntertran/huntertran-blog-comments","issue_term":"pathname","theme":"github-dark"}</script>
<script src="/js/third-party/comments/utterances.js"></script>

</body>
</html>
