<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=""><meta name="theme-color" content="#2d4356"><meta name="baidu-site-verification"><title>[Front-end] Tự động reload browser khi đang code | Tuan Tran's Blog</title><link rel="stylesheet" type="text/css" href="/blog/css/style.css"><link rel="Shortcut Icon" type="image/x-icon" href="/blog/favicon.png"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script><meta name="generator" content="Hexo 5.0.0"><link rel="alternate" href="/blog/atom.xml" title="Tuan Tran's Blog" type="application/atom+xml">
</head><link rel="stylesheet" type="text/css" href="/blog/plugins/prettify/doxy.css"><script type="text/javascript" src="/blog/js/ready.js" async></script><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css"><body class="night"><div class="mobile-head" id="mobile-head"><div class="navbar-icon"><span></span><span></span><span></span></div><div class="navbar-title"><a href="/">LITREILY</a></div><div class="navbar-search"><!--= show a circle here--></div></div><div class="h-wrapper" id="menu"><nav class="h-head box"><div class="m-hdimg"><a class="hdimg img" href="/"><img class="nofancybox" src="/img/profile.jpg" width="128" height="128"></a><h1 class="ttl"><a href="/">Tuan Tran's Blog</a></h1></div><p class="m-desc">Share to be shared</p><div class="m-nav"><ul><li><span class="dot">●</span><a href="/blog/archives/">Archives</a></li><li><span class="dot">●</span><a href="/blog/categories/">Categories</a></li><li><span class="dot">●</span><a href="/blog/tags/">Tags</a></li><li><span class="dot">●</span><a href="/blog/about/">About</a></li><li><span class="dot">●</span><a href="/blog/atom.xml">RSS</a></li><li class="m-sch"><form class="form" id="j-formsch" method="get"><input class="txt" type="text" id="local-search-input" name="q" value="Search for" onfocus="if(this.value=='Search for'){this.value='';}" onblur="if(this.value==''){this.value='Search for';}"><input type="text" style="display:none;"></form></li></ul><div id="local-search-result"></div></div></nav></div><div id="back2Top"><a class="fa fa-arrow-up" title="Back to top" href="#"></a></div><div class="box" id="container"><div class="l-wrapper"><div class="l-content box"><div class="l-post l-post-art"><article class="p-art"><div class="p-header box"><h1 class="p-title">[Front-end] Tự động reload browser khi đang code</h1><div class="p-info"><span class="p-date"><i class="fa fa-calendar"></i><a href="/blog/2017/04/12/front-end-tu-dong-reload-browser-khi-dang-code/">2017-04-12</a></span><span class="p-category"><i class="fa fa-folder"></i><a href="/blog/categories/c/">c</a>&nbsp;&bull;&nbsp;<a href="/blog/categories/c/ASP-NET/">ASP.NET</a></span><span class="p-view" id="busuanzi_container_page_pv"><i class="fa fa-eye"></i><span id="busuanzi_value_page_pv"></span></span></div></div><div class="p-content"><p>Mỗi lần nói tới CSS, là các front-end developer lại thấy chán nản mệt mỏi các kiểu</p>
<p>Thử nghĩ xem, mỗi lần sửa CSS (hoặc SCSS), bạn sẽ phải quay lại web browser, nhấn reload / F5 / Ctrl + F5</p>
<p>Nếu có cách để browser tự động reload mỗi khi có thay đổi code thì sao nhỉ</p>
<p>Bài viết này sẽ hướng dẫn các bạn dùng Visual Studio Code kèm với NodeJs để có tự động reload web khi có code thay đổi</p>
<a id="more"></a>
<p><strong>Mục lục</strong></p>
<ul>
<li><a href="#b%C6%B0%E1%BB%9Bc-1-c%C3%A0i-%C4%91%E1%BA%B7t-m%C3%B4i-tr%C6%B0%E1%BB%9Dng">Bước 1: Cài đặt môi trường</a></li>
<li><a href="#b%C6%B0%E1%BB%9Bc-2-c%C3%A0i-%C4%91%E1%BA%B7t-c%C3%A1c-nodejs-package">Bước 2: Cài đặt các nodejs package</a></li>
<li><a href="#b%C6%B0%E1%BB%9Bc-3-c%C3%A0i-%C4%91%E1%BA%B7t-%E1%BB%9F-local-folder">Bước 3: Cài đặt ở local folder</a></li>
<li><a href="#b%C6%B0%E1%BB%9Bc-4-c%C3%A0i-%C4%91%E1%BA%B7t-browsersync">Bước 4: Cài đặt BrowserSync</a></li>
<li><a href="#b%C6%B0%E1%BB%9Bc-5-t%E1%BA%A1o-gulp-task">Bước 5: Tạo gulp task</a></li>
<li><a href="#ch%E1%BA%A1y-tasks">Chạy tasks</a></li>
</ul>
<h1 id="Buoc-1-Cai-dat-moi-truong"><a href="#Buoc-1-Cai-dat-moi-truong" class="headerlink" title="Bước 1: Cài đặt môi trường"></a>Bước 1: Cài đặt môi trường</h1><p>Sẽ có một số phần mềm cần bạn cài đặt. Những phần mềm này khá phổ biến</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://nodejs.org/">https://nodejs.org</a></li>
<li><a target="_blank" rel="noopener" href="https://code.visualstudio.com/">https://code.visualstudio.com/</a></li>
</ul>
<p><em>Bạn có thể chọn bản LTS, viết tắt cho chữ Long term support. Đây thường là phiên bản ổn định, ít lỗi lặt vặt</em> <img src="https://farm3.staticflickr.com/2894/33833478232_a59cce160b_o.png" alt="Chọn LTS cho ít lỗi lặt vặt"></p>
<h1 id="Buoc-2-Cai-dat-cac-nodejs-package"><a href="#Buoc-2-Cai-dat-cac-nodejs-package" class="headerlink" title="Bước 2: Cài đặt các nodejs package"></a>Bước 2: Cài đặt các nodejs package</h1><p><strong>Mở Visual Studio Code</strong></p>
<p><strong>Mở Terminal Windows</strong></p>
<p>Bật Terminal Windows trong Visual Studio Code bằng cách nhấn Ctrl + ` hoặc View &gt; Integrated Terminal</p>
<p><img src="https://farm3.staticflickr.com/2814/33234696593_9fcee9f965_o.png"></p>
<p><strong>Cài đặt trình biên dịch SASS/LESS</strong></p>
<p>[code lang=text] npm install -g node-sass less [/code]</p>
<p>Tham số -g là để cài đặt trên môi trường global</p>
<p><img src="https://farm3.staticflickr.com/2873/33889703622_3cbc71f1cc_o.png"></p>
<p><em>Sau khi cài đặt SASS/LESS compiler</em></p>
<p><strong>Cài đặt gulp toolkit</strong></p>
<p>Cài đặt gulp toolkit để tự động hóa quá trình biên dịch</p>
<p>[code lang=text] npm install -g gulp [/code]</p>
<p><img src="https://farm3.staticflickr.com/2885/33234839763_71ffba8cfd_o.png"></p>
<p><em>Bạn có thể bỏ qua các warning khi cài đặt gulp</em></p>
<p><strong>Initialize Node.Js</strong></p>
<p>Nếu trước đó, bạn chưa bao giờ cài đặt NodeJs package manager, bạn sẽ gặp lỗi như sau</p>
<p><img src="https://farm3.staticflickr.com/2829/33662078970_a1aaf77d2c_o.png"></p>
<p>Gõ lệnh</p>
<p>[code lang=text] npm init [/code]</p>
<p>để init các tham số cần thiết cho npm và làm theo hướng dẫn trên màn hình.</p>
<p>Nếu bạn không nhập gì cả và nhấn enter, npm sẽ dùng tham số default</p>
<p><img src="https://farm3.staticflickr.com/2902/33235009203_a69320020e_o.png"></p>
<h1 id="Buoc-3-Cai-dat-o-local-folder"><a href="#Buoc-3-Cai-dat-o-local-folder" class="headerlink" title="Bước 3: Cài đặt ở local folder"></a>Bước 3: Cài đặt ở local folder</h1><p>Mặc dù bạn đã cài gulp ở global, nhưng bạn vẫn sẽ cần gulp được “copy” vào folder có chứa project của bạn. Lý do là khi gulp global được upgrade, hoặc bị xóa mất, gulp local của bạn vẫn chạy bình thường với một bản sao ổn định trong project folder của bạn Cài đặt gulp local</p>
<p>[code lang=text] npm install gulp –save-dev [/code]</p>
<p>Cài đặt gulp plugin</p>
<p>[code lang=text] npm install gulp gulp-sass gulp-less [/code]</p>
<h1 id="Buoc-4-Cai-dat-BrowserSync"><a href="#Buoc-4-Cai-dat-BrowserSync" class="headerlink" title="Bước 4: Cài đặt BrowserSync"></a>Bước 4: Cài đặt BrowserSync</h1><p>BrowserSync chính là thứ sẽ giúp chúng ta tự động reload trình duyệt Cũng trong Terminal Windows của Visual Studio, gõ lệnh</p>
<p>[code lang=text] npm install browser-sync gulp –save-dev [/code]</p>
<p>Tương tự, bạn cũng có thể bỏ qua các đoạn warning, thông báo</p>
<p><img src="https://farm4.staticflickr.com/3703/33662203760_71636d02d3_o.png"></p>
<h1 id="Buoc-5-Tao-gulp-task"><a href="#Buoc-5-Tao-gulp-task" class="headerlink" title="Bước 5: Tạo gulp task"></a>Bước 5: Tạo gulp task</h1><p>Gulp task là một file .json có chứa các lệnh, tham số cần thiết để thiết lập cho gulp</p>
<ul>
<li>Trong Visual Studio Code, mở folder có chứa project HTML/CSS/JavaScript của bạn</li>
</ul>
<p>[code lang=text] File &gt; Open Folder &gt; [Chọn folder] [/code]</p>
<ul>
<li>Tạo một file tên “gulpfile.js” trong root folder của project</li>
<li>Gõ nội dung sau:</li>
</ul>
<p>[code lang=javascript] var gulp = require(‘gulp’);</p>
<p>var sass = require(‘gulp-sass’);</p>
<p>var browserSync = require(‘browser-sync’);</p>
<p>// compile task var gulp = require(‘gulp’); var sass = require(‘gulp-sass’); var browserSync = require(‘browser-sync’);</p>
<p>// compile task gulp.task(‘sass’, function () { gulp.src(‘css/*.scss’) .pipe(sass()) .on(‘error’, swallowError) .pipe(gulp.dest(function (f) { return f.base; })) .pipe(browserSync.stream()); });</p>
<p>// browser sync init gulp.task(‘browser-sync’, [‘sass’], function () { browserSync.init({ server: { baseDir: “./“ } }); });</p>
<p>// watch for changes in html, css, scss gulp.task(‘default’, [‘browser-sync’], function () { gulp.watch(‘css/*.scss’, [‘sass’]); gulp.watch(‘*.html’) .on(‘change’, browserSync.reload); })</p>
<p>// skip if error occured function swallowError(error) { console.log(error.toString()) this.emit(‘end’) } [/code]</p>
<ul>
<li><p>Tạo tasks.json tasks.json giúp cho Visual Studio code biết cách chạy task gulp khi được ra lệnh</p>
<ul>
<li>Nhấn Ctrl + Shift + P và gõ “Configure Task Runner” rồi nhấn enter</li>
<li>Chọn Others trong danh sách</li>
<li>Gõ vào đoạn code sau</li>
</ul>
</li>
</ul>
<p>[code lang=javascript] { “version”: “0.1.0”, “command”: “gulp”, “isShellCommand”: true, “tasks”: [ { “taskName”: “default”, “isBuildCommand”: true, “showOutput”: “always”, “isBackground”: true } ] } [/code]</p>
<h1 id="Chay-tasks"><a href="#Chay-tasks" class="headerlink" title="Chạy tasks"></a>Chạy tasks</h1><ul>
<li>Tạo file “index.html” trong thư mục gốc. Mặc định BrowserSync sẽ theo dõi file này</li>
<li>Trong Visual Studio Code, nhấn <strong>Ctrl + Shift + B</strong> để bắt đầu chạy tasks</li>
<li>Bật tính năng Autosave cho Visual Studio Code</li>
</ul>
<p>[code lang=text] File &gt; Autosave [/code]</p>
</div><div class="p-copyright"><blockquote><div class="p-copyright-author"><span class="p-copyright-key">Author：</span><span class="p-copytight-value"><a href="mailto:litreily@163.com">Tuan Tran</a></span></div><div class="p-copyright-link"><span class="p-copyright-key">Link to this article：</span><span class="p-copytight-value"><a href="/blog/2017/04/12/front-end-tu-dong-reload-browser-khi-dang-code/">https://huntertran.github.io/blog/2017/04/12/front-end-tu-dong-reload-browser-khi-dang-code/</a></span></div><div class="p-copyright-note"><span class="p-copyright-key">Copyright：</span><span class="p-copytight-value">All rights reserved with<a rel="nofollow" target="_blank" href="https://creativecommons.org/licenses/by-nc/4.0/"> CC BY-NC 4.0 </a>agreement. Include the source <a href="https://huntertran.github.io/blog">Tuan Tran's blog</a>！</span></div></blockquote></div></article><div class="p-info box"><span class="p-tags"><i class="fa fa-tags"></i><a href="/blog/tags/browsersync/">browsersync</a><a href="/blog/tags/css/">css</a><a href="/blog/tags/html/">html</a><a href="/blog/tags/live-reload/">live reload</a><a href="/blog/tags/visual-studio-code/">visual studio code</a></span></div><aside id="toc"><div class="toc-title">Table of Contents</div><nav><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Buoc-1-Cai-dat-moi-truong"><span class="toc-number">1.</span> <span class="toc-text">Bước 1: Cài đặt môi trường</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Buoc-2-Cai-dat-cac-nodejs-package"><span class="toc-number">2.</span> <span class="toc-text">Bước 2: Cài đặt các nodejs package</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Buoc-3-Cai-dat-o-local-folder"><span class="toc-number">3.</span> <span class="toc-text">Bước 3: Cài đặt ở local folder</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Buoc-4-Cai-dat-BrowserSync"><span class="toc-number">4.</span> <span class="toc-text">Bước 4: Cài đặt BrowserSync</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Buoc-5-Tao-gulp-task"><span class="toc-number">5.</span> <span class="toc-text">Bước 5: Tạo gulp task</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Chay-tasks"><span class="toc-number">6.</span> <span class="toc-text">Chạy tasks</span></a></li></ol></nav></aside></div><section class="p-ext"><div class="l-pager l-pager-dtl box"><a class="prev" href="/blog/2017/04/20/asp-net-mo-rong-editorfor/">&lt; [ASP.NET] Mở rộng EditorFor</a><a class="next" href="/blog/2017/02/07/asp-net-mvc-debug-route-config/">[ASP.NET MVC] Debug Route Config &gt;</a></div><div id="valine-comment"><style type="text/css">.night .v[data-class=v] a { color: #0F9FB4 !important; }
.night .v[data-class=v] a:hover { color: #216C73 !important; }
.night .v[data-class=v] li { list-style: inherit; }
.night .v[data-class=v] .vwrap { border: 1px solid #223441; border-radius: 0; }
.night .v[data-class=v] .vwrap:hover { box-shadow: 0 0 6px 1px #223441; }
.night .v[data-class=v] .vbtn { border-radius: 0; background: none; }
.night .v[data-class=v] .vlist .vcard .vh { border-bottom-color: #293D4E; }
.night .v[data-class=v] .vwrap .vheader .vinput { border-bottom-color: #223441; }
.night .v[data-class=v] .vwrap .vheader .vinput:focus { border-bottom-color: #339EB4; }
.night .v[data-class=v] code, .night .v[data-class=v] pre,.night .v[data-class=v] .vlist .vcard .vhead .vsys { background: #203240 !important; }
.night .v[data-class=v] code, .night .v[data-class=v] pre { color: #F0F0F0; font-size: 95%; }
.v[data-class=v] .vcards .vcard .vh {border-bottom-color: #223441; }
.night .v[data-class=v] .vcards .vcard .vcontent.expand:before {background: linear-gradient(180deg,rgba(38,57,73,.4),rgba(38,57,73,.9));}
.night .v[data-class=v] .vcards .vcard .vcontent.expand:after {background: rgba(38,57,73,.9)}
</style><div id="vcomment"></div><script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script><script>var notify = 'false' == true ? true : false;
var verify = 'false' == true ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;
window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'',
  appKey:'',
  lang: 'en',
  placeholder:'ヾﾉ≧∀≦)o Come on, say something...',
  avatar:'identicon',
  guest_info:guest_info,
  pageSize:'10'
})</script></div></section><footer><p>Copyright © 2016 - 2020 <a href="/blog/." rel="nofollow">Tuan Tran's Blog</a> | <strong><a rel="nofollow" target="_blank" href="https://creativecommons.org/licenses/by-nc/4.0/">CC BY-NC 4.0</a></strong><br><span id="busuanzi_container_site_uv"><i class="fa fa-user"></i><span id="busuanzi_value_site_uv"></span></span> <span id="busuanzi_container_site_pv"><i class="fa fa-eye"></i><span id="busuanzi_value_site_pv"></span></span> | Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a>Theme with<a rel="nofollow" target="_blank" href="https://github.com/litreily/snark-hexo"> snark.</a></p></footer></div></div></div><script type="text/javascript" src="/blog/plugins/prettify/prettify.js"></script><script type="text/javascript" src="/blog/js/search.js"></script><script type="text/javascript" src="/blog/js/top.js"></script><script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
    search_path = 'search.xml';
}
var path = '/blog/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script><script type="text/javascript" src="/blog/js/fancybox.js?v=0.0.1" async></script></body></html>